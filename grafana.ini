[paths]
data = /var/lib/grafana
logs = /var/log/grafana
plugins = /var/lib/grafana/plugins
provisioning = /etc/grafana/provisioning

[server]
protocol = http
http_addr = 0.0.0.0
http_port = 3000
domain = 192.168.100.30
root_url = http://192.168.100.30:3000
serve_from_sub_path = false
router_logging = false

[database]
type = sqlite3
path = /var/lib/grafana/grafana.db

[session]
# CRITICAL FIX: Session settings
provider = file
provider_config = sessions
cookie_name = grafana_session
cookie_secure = false
session_life_time = 86400
gc_interval_time = 86400

[security]
# VULNERABILITY: Allow default admin credentials (for CTF)
admin_user = admin
admin_password = admin
# Disable password change requirement
disable_initial_admin_creation = false
# Allow weak passwords
password_min_length = 4
disable_brute_force_login_protection = true
# Cookie settings
cookie_secure = false
cookie_samesite = lax
# Disable CSRF for easier testing (VULNERABLE!)
disable_gravatar = false

[users]
allow_sign_up = false
allow_org_create = false
auto_assign_org = true
auto_assign_org_role = Viewer
verify_email_enabled = false
default_theme = dark
# IMPORTANT: Do not auto-assign admin role
auto_assign_org_role = Viewer

[auth]
disable_login_form = false
disable_signout_menu = false
# Disable OAuth redirect
oauth_auto_login = false

[auth.anonymous]
enabled = false

[auth.basic]
enabled = true

[auth.proxy]
enabled = false

[analytics]
reporting_enabled = false
check_for_updates = false
check_for_plugin_updates = false

[log]
mode = console file
level = info
filters = 

[log.console]
level = info
format = console

[alerting]
enabled = true

[explore]
enabled = true

[help]
enabled = true

[profile]
enabled = true

[news]
news_feed_enabled = false
